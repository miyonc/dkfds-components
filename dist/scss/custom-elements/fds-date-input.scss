@use "../variables" as vars;
@use "../functions" as func;
@use "../mixins" as mixins;
@use "../placeholder-selectors";

$input-top-bottom-padding-feedback: calc(8px - #{vars.$input-border-width-feedback});
$input-left-right-padding-feedback: calc(16px - #{vars.$input-border-width-feedback});

fds-date-input,
.fds-date-input {

    display: flex;
    align-items: flex-end;
    margin-top: func.units(5); // 4
    &:first-child {
        margin-top: 0;
    }

    label {
        margin-top: 0;
        font-weight: func.font-weight("normal");
    }

    input[type="number"]::-webkit-inner-spin-button,
    input[type="number"]::-webkit-outer-spin-button {
        @include mixins.appearance-none;
        margin: 0;
    }

    .form-group-day,
    .form-group-month,
    .form-group-year {
        margin-right: func.units(4);
        margin-top: 0;
    }

    .form-group-day,
    .form-group-month {
        width: calc(2px + #{func.units(4)} + #{func.units(4)} + 2ch);
    }

    .form-group-year {
        width: calc(2px + #{func.units(4)} + #{func.units(4)} + 4ch);
    }

    .button-open-calendar {
        margin-bottom: func.units(3);
        display: inline-flex;
    }

    &:has(fds-error-message:not([targets]):not([hidden])) input {
        border: vars.$input-border-width-feedback solid func.color(vars.$input-border-color-feedback-error);
        padding: $input-top-bottom-padding-feedback $input-left-right-padding-feedback;
    }

    // Year error styling
    &:has(fds-error-message[targets*="year"]:not([hidden])) .form-group[data-attribute="year"] input,
    // Month error styling  
    &:has(fds-error-message[targets*="month"]:not([hidden])) .form-group[data-attribute="month"] input,
    // Day error styling
    &:has(fds-error-message[targets*="day"]:not([hidden])) .form-group[data-attribute="day"] input {
        border: vars.$input-border-width-feedback solid func.color(vars.$input-border-color-feedback-error);
        padding: $input-top-bottom-padding-feedback $input-left-right-padding-feedback;
    }
}
